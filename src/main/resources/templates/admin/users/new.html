<th:block th:with="active='admin-users'"
          th:replace="~{layout :: base(~{::section})}">
    <section class="admin-new-user-page">
        <h1 class="h4 mb-3">New User</h1>

        <div th:if="${error}" class="alert alert-danger" th:text="${error}">Error</div>

        <form method="post" th:action="@{/admin/users}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <div class="row g-3">
                <div class="col-md-4">
                    <label class="form-label">Username (login)</label>
                    <input class="form-control" name="username" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label">First Name (last initial if needed)</label>
                    <input class="form-control" name="fullName" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Email</label>
                    <input class="form-control" type="email" name="email" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Password</label>
                    <input class="form-control" type="password" name="password" required>
                </div>

                <div class="col-md-4">
                    <label class="form-label d-block">Role</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="role" id="roleEmp" value="EMPLOYEE" checked>
                        <label class="form-check-label" for="roleEmp">EMPLOYEE</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="role" id="roleMgr" value="MANAGER">
                        <label class="form-check-label" for="roleMgr">MANAGER</label>
                    </div>
                    <div class="form-text">
                        Managers can still be scheduled; you donâ€™t need to give both roles.
                    </div>
                </div>

                <div class="col-md-4">
                    <label class="form-label">Enabled</label>
                    <select class="form-select" name="enabled">
                        <option value="true" selected>Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
            </div>

            <div class="mt-3 d-flex gap-2">
                <button class="btn btn-primary"
                        onclick="return confirm('Create this user account?');">
                    Create
                </button>
                <a class="btn btn-outline-secondary"
                   th:href="@{/admin/users}"
                   onclick="return confirm('Cancel and discard this new user?');">
                    Cancel
                </a>
            </div>
        </form>
    </section>
</th:block>
