<th:block th:with="active='employee-schedule'"
          th:replace="~{layout :: base(~{::section})}">
    <section>
        <div th:if="${!anyPosted}" class="alert alert-info mt-3">
            No posted schedules are available yet. Please check back later.
        </div>

        <div th:if="${hasPeriods}">

            <div th:if="${!isPosted}" class="alert alert-warning py-2 small">
                This 2-week period hasn’t been posted yet. You’re viewing an empty schedule preview.
            </div>

            <!-- Mobile header: phones only -->
            <div class="schedule-header-mobile d-flex d-sm-none flex-column align-items-center mb-2">
                <div class="text-center">
                    <h1 class="h5 mb-0">
                        My Schedule <span th:if="${isPosted}">(Posted)</span>
                    </h1>
                    <div class="text-muted small">
                        <strong th:text="${#temporals.format(startDate, 'MM-dd-yy')}">MM-DD-YY</strong>
                        &nbsp;→&nbsp;
                        <strong th:text="${#temporals.format(endDate, 'MM-dd-yy')}">MM-DD-YY</strong>
                    </div>
                </div>
                <div class="d-flex justify-content-center gap-2 mt-2">
                    <a th:if="${prevStart != null}"
                       th:href="@{/employee/schedule(start=${prevStart})}"
                       class="btn btn-sm btn-outline-secondary">
                        ◀ Prev
                    </a>
                    <a th:if="${nextStart != null}"
                       th:href="@{/employee/schedule(start=${nextStart})}"
                       class="btn btn-sm btn-outline-secondary">
                        Next ▶
                    </a>
                </div>
            </div>

            <!-- Desktop / tablet header: sm and up -->
            <div class="d-none d-sm-flex align-items-center justify-content-between mb-2">
                <a th:if="${prevStart != null}"
                   th:href="@{/employee/schedule(start=${prevStart})}"
                   class="btn btn-sm btn-outline-secondary">◀ Previous two weeks</a>
                <span th:if="${prevStart == null}"></span>

                <div class="text-center flex-grow-1">
                    <h1 class="h5 mb-0">
                        My Schedule <span th:if="${isPosted}">(Posted)</span>
                    </h1>
                    <div class="text-muted small">
                        <strong th:text="${#temporals.format(startDate, 'MM-dd-yy')}">MM-DD-YY</strong>
                        &nbsp;→&nbsp;
                        <strong th:text="${#temporals.format(endDate, 'MM-dd-yy')}">MM-DD-YY</strong>
                    </div>
                </div>

                <a th:if="${nextStart != null}"
                   th:href="@{/employee/schedule(start=${nextStart})}"
                   class="btn btn-sm btn-outline-secondary">Next two weeks ▶</a>
                <span th:if="${nextStart == null}"></span>
            </div>

            <h2 class="h6 mt-3">Week 1</h2>
            <div th:replace="~{fragments/schedule-table :: scheduleTable(${week1})}"></div>

            <h2 class="h6 mt-4">Week 2</h2>
            <div th:replace="~{fragments/schedule-table :: scheduleTable(${week2})}"></div>
        </div>
    </section>
</th:block>
